# RagBot API - Architecture Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      RagBot API Server                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Cloud LLM API  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   FastAPI Server         â”‚ â”‚
â”‚  â”‚  (Groq/Gemini)  â”‚  LLM Calls   â”‚   Port: 8000             â”‚ â”‚
â”‚  â”‚                 â”‚              â”‚                          â”‚ â”‚
â”‚  â”‚  Models:        â”‚              â”‚  Endpoints:              â”‚ â”‚
â”‚  â”‚  - LLaMA 3.3-70Bâ”‚              â”‚  - /api/v1/health        â”‚ â”‚
â”‚  â”‚  - Gemini Flash â”‚              â”‚  - /api/v1/biomarkers    â”‚ â”‚
â”‚  â”‚  (or Ollama)    â”‚              â”‚  - /api/v1/analyze/*     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                â”‚                â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                    â”‚   RagBot Core System     â”‚ â”‚
â”‚                                    â”‚   (Imported Package)     â”‚ â”‚
â”‚                                    â”‚                          â”‚ â”‚
â”‚                                    â”‚  - 6 Specialist Agents   â”‚ â”‚
â”‚                                    â”‚  - LangGraph Workflow    â”‚ â”‚
â”‚                                    â”‚  - FAISS Vector Store    â”‚ â”‚
â”‚                                    â”‚  - 2,609 medical chunks  â”‚ â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚
                   HTTP Requests (JSON)
                              â”‚
                              â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   Your Backend Server  â”‚
                  â”‚   (Node.js/Python/etc) â”‚
                  â”‚   Port: 3000           â”‚
                  â”‚                        â”‚
                  â”‚   - Receives frontend  â”‚
                  â”‚     requests           â”‚
                  â”‚   - Calls RagBot API   â”‚
                  â”‚   - Returns results    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   Your Frontend        â”‚
                  â”‚   (React/Vue/etc)      â”‚
                  â”‚                        â”‚
                  â”‚   - User inputs data   â”‚
                  â”‚   - Displays results   â”‚
                  â”‚   - Shows analysis     â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ Request Flow

### Natural Language Analysis Flow

```
User Types:
"My glucose is 185 and HbA1c is 8.2"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend (React)  â”‚
â”‚  User Interface    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ POST /api/analyze
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Backend      â”‚
â”‚  (Express/Flask)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ POST /api/v1/analyze/natural
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  RagBot API (FastAPI)               â”‚
â”‚                                     â”‚
â”‚  1. Receive request                 â”‚
â”‚     {"message": "glucose 185..."}   â”‚
â”‚                                     â”‚
â”‚  2. Extract biomarkers              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚     â”‚  Extraction      â”‚            â”‚
â”‚     â”‚  Service         â”‚            â”‚
â”‚     â”‚  (LLM: llama3.1) â”‚            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚              â–¼                      â”‚
â”‚     {"Glucose": 185, "HbA1c": 8.2} â”‚
â”‚                                     â”‚
â”‚  3. Predict disease                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚     â”‚  Rule-based      â”‚            â”‚
â”‚     â”‚  Predictor       â”‚            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚              â–¼                      â”‚
â”‚     {"disease": "Diabetes", ...}   â”‚
â”‚                                     â”‚
â”‚  4. Run RAG Workflow                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚     â”‚  RagBot Service  â”‚            â”‚
â”‚     â”‚  (6 agents)      â”‚            â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚              â–¼                      â”‚
â”‚     Full analysis response          â”‚
â”‚                                     â”‚
â”‚  5. Format response                 â”‚
â”‚     - Biomarker flags               â”‚
â”‚     - Safety alerts                 â”‚
â”‚     - Recommendations               â”‚
â”‚     - Disease explanation           â”‚
â”‚     - Conversational summary        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ JSON Response
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Your Backend      â”‚
â”‚  Processes data    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ JSON Response
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend          â”‚
â”‚  Displays results  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI Application                  â”‚
â”‚              (app/main.py)                        â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          Route Handlers                     â”‚ â”‚
â”‚  â”‚                                             â”‚ â”‚
â”‚  â”‚  /health      /biomarkers    /analyze/*    â”‚ â”‚
â”‚  â”‚    â”‚               â”‚              â”‚         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚               â”‚              â”‚           â”‚
â”‚       â–¼               â–¼              â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Health  â”‚   â”‚Biomarkerâ”‚   â”‚  Analyze     â”‚  â”‚
â”‚  â”‚ Route   â”‚   â”‚ Route   â”‚   â”‚  Route       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                       â”‚           â”‚
â”‚                                       â–¼           â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                          â”‚   Services Layer    â”‚ â”‚
â”‚                          â”‚                     â”‚ â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚                          â”‚  â”‚  Extraction   â”‚ â”‚ â”‚
â”‚                          â”‚  â”‚  Service      â”‚ â”‚ â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                          â”‚          â”‚         â”‚ â”‚
â”‚                          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚                          â”‚  â”‚  RagBot       â”‚ â”‚ â”‚
â”‚                          â”‚  â”‚  Service      â”‚ â”‚ â”‚
â”‚                          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   RagBot Core System   â”‚
                         â”‚   (src/workflow.py)    â”‚
                         â”‚                        â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                         â”‚  â”‚ 6 Agent Workflow â”‚  â”‚
                         â”‚  â”‚ (LangGraph)      â”‚  â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â”‚                        â”‚
                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                         â”‚  â”‚ Vector Store     â”‚  â”‚
                         â”‚  â”‚ (FAISS)          â”‚  â”‚
                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow

### Request â†’ Response Journey

```
1. INPUT (from user)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ "My glucose is 185 and HbA1c   â”‚
   â”‚  is 8.2, I'm 52 years old"     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
2. EXTRACTION (LLM Processing)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Biomarkers:                     â”‚
   â”‚  - Glucose: 185.0               â”‚
   â”‚  - HbA1c: 8.2                   â”‚
   â”‚ Context:                        â”‚
   â”‚  - age: 52                      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
3. PREDICTION (Rule-based)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Disease: Diabetes               â”‚
   â”‚ Confidence: 0.87 (87%)          â”‚
   â”‚ Probabilities:                  â”‚
   â”‚  - Diabetes: 87%                â”‚
   â”‚  - Heart Disease: 8%            â”‚
   â”‚  - Others: 5%                   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
4. WORKFLOW (6 Agents Execute)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 1: Biomarker Analyzer     â”‚
   â”‚  âœ“ Validates 2 biomarkers       â”‚
   â”‚  âœ“ Flags: 2 out of range        â”‚
   â”‚  âœ“ Alerts: 2 critical           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 2: Disease Explainer (RAG)â”‚
   â”‚  âœ“ Retrieved 5 medical docs     â”‚
   â”‚  âœ“ Citations: 5 sources         â”‚
   â”‚  âœ“ Pathophysiology explained    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 3: Biomarker Linker (RAG) â”‚
   â”‚  âœ“ Linked 2 key drivers         â”‚
   â”‚  âœ“ Evidence from literature     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 4: Guidelines (RAG)       â”‚
   â”‚  âœ“ Retrieved 3 guidelines       â”‚
   â”‚  âœ“ Recommendations: 5 actions   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 5: Confidence Assessor    â”‚
   â”‚  âœ“ Reliability: MODERATE        â”‚
   â”‚  âœ“ Evidence: STRONG             â”‚
   â”‚  âœ“ Limitations: 2 noted         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Agent 6: Response Synthesizer   â”‚
   â”‚  âœ“ Compiled all findings        â”‚
   â”‚  âœ“ Structured output            â”‚
   â”‚  âœ“ Conversational summary       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
5. OUTPUT (to user)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Full JSON Response:             â”‚
   â”‚                                 â”‚
   â”‚ - prediction                    â”‚
   â”‚ - biomarker_flags               â”‚
   â”‚ - safety_alerts                 â”‚
   â”‚ - key_drivers                   â”‚
   â”‚ - disease_explanation           â”‚
   â”‚ - recommendations               â”‚
   â”‚ - confidence_assessment         â”‚
   â”‚ - agent_outputs                 â”‚
   â”‚ - conversational_summary        â”‚
   â”‚                                 â”‚
   â”‚ Processing time: 3.5 seconds    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ API Endpoint Map

```
RagBot API Root: http://localhost:8000
â”‚
â”œâ”€â”€ /                         GET   API info
â”‚
â”œâ”€â”€ /docs                     GET   Swagger UI
â”‚
â”œâ”€â”€ /redoc                    GET   ReDoc
â”‚
â””â”€â”€ /api/v1/
    â”‚
    â”œâ”€â”€ /health               GET   System status
    â”‚   Returns: {
    â”‚     status: "healthy",
    â”‚     ollama_status: "connected",
    â”‚     vector_store_loaded: true
    â”‚   }
    â”‚
    â”œâ”€â”€ /biomarkers           GET   List all biomarkers
    â”‚   Returns: {
    â”‚     biomarkers: [...],
    â”‚     total_count: 24
    â”‚   }
    â”‚
    â””â”€â”€ /analyze/
        â”‚
        â”œâ”€â”€ /natural          POST  Natural language
        â”‚   Input: {
        â”‚     message: "glucose 185...",
        â”‚     patient_context: {...}
        â”‚   }
        â”‚   Output: Full analysis
        â”‚
        â”œâ”€â”€ /structured       POST  Direct biomarkers
        â”‚   Input: {
        â”‚     biomarkers: {...},
        â”‚     patient_context: {...}
        â”‚   }
        â”‚   Output: Full analysis
        â”‚
        â””â”€â”€ /example          GET   Demo case
            Output: Full analysis
```

---

## ğŸ”Œ Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Your Application Stack               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  Frontend (React/Vue/Angular)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ User inputs: "glucose 185, HbA1c 8.2"    â”‚  â”‚
â”‚  â”‚ Button click: "Analyze"                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚ HTTP POST                     â”‚
â”‚                 â–¼                               â”‚
â”‚  Backend (Node.js/Python/Java)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Endpoint: POST /api/analyze              â”‚  â”‚
â”‚  â”‚                                          â”‚  â”‚
â”‚  â”‚ Code:                                    â”‚  â”‚
â”‚  â”‚   const result = await fetch(           â”‚  â”‚
â”‚  â”‚     'http://localhost:8000/api/v1/      â”‚  â”‚
â”‚  â”‚      analyze/natural',                  â”‚  â”‚
â”‚  â”‚     {body: {message: userInput}}        â”‚  â”‚
â”‚  â”‚   );                                     â”‚  â”‚
â”‚  â”‚                                          â”‚  â”‚
â”‚  â”‚   return result.data;                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚ HTTP POST                     â”‚
â”‚                 â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    RagBot API (localhost:8000)           â”‚â—„â”€â”¼â”€ This is what we built!
â”‚  â”‚                                          â”‚  â”‚
â”‚  â”‚    - Extracts biomarkers                 â”‚  â”‚
â”‚  â”‚    - Runs analysis                       â”‚  â”‚
â”‚  â”‚    - Returns JSON                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚ JSON Response                 â”‚
â”‚                 â–¼                               â”‚
â”‚  Backend processes and returns to frontend     â”‚
â”‚                 â”‚                               â”‚
â”‚                 â–¼                               â”‚
â”‚  Frontend displays results to user             â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¾ File Structure

```
api/
â”‚
â”œâ”€â”€ app/                      # Application code
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # FastAPI app (entry point)
â”‚   â”‚
â”‚   â”œâ”€â”€ models/              # Data schemas
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ schemas.py       # Pydantic models
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/              # API endpoints
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ health.py        # Health check
â”‚   â”‚   â”œâ”€â”€ biomarkers.py    # List biomarkers
â”‚   â”‚   â””â”€â”€ analyze.py       # Analysis endpoints
â”‚   â”‚
â”‚   â””â”€â”€ services/            # Business logic
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ extraction.py    # Natural language extraction
â”‚       â””â”€â”€ ragbot.py        # Workflow orchestration
â”‚
â”œâ”€â”€ .env                     # Configuration
â”œâ”€â”€ .env.example             # Template
â”œâ”€â”€ .gitignore               # Git ignore rules
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ Dockerfile               # Container image
â”œâ”€â”€ docker-compose.yml       # Deployment config
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ README.md            # Complete guide
    â”œâ”€â”€ GETTING_STARTED.md   # Quick start
    â”œâ”€â”€ QUICK_REFERENCE.md   # Cheat sheet
    â””â”€â”€ ARCHITECTURE.md      # This file
```

---

**Created:** November 23, 2025  
**Purpose:** Visual guide to RagBot API architecture  
**For:** Understanding system design and integration points
